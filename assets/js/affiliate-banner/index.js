(()=>{var e={967:(e,t)=>{var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,l(r)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"hdcpab/affiliate-banner","version":"0.1.0","title":"Affiliate Banner","category":"widgets","attributes":{"textAlign":{"type":"string"},"urlParam":{"type":"string"}},"supports":{"interactivity":true,"textAlign":["wide","full"],"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalTextDecoration":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalWritingMode":true,"__experimentalDefaultControls":{"fontSize":true}},"spacing":{"margin":true,"padding":true},"color":{"text":true,"background":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalSkipSerialization":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}},"editorScript":"file:./index.js","editorStyle":"file:./index.css"}'),n=window.React;var l=r(967),i=r.n(l);const o=window.wp.element,c=window.wp.components,s=window.wp.blockEditor,u=()=>(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6.35 4.616"},(0,n.createElement)("path",{d:"M122.273 127.911c.099-.14.513.194.395.362l-.328.458c-.166.21-.59-.155-.415-.356l.348-.464zm-.547-.54c.175-.24.565.15.446.318l-.492.674c-.166.209-.575-.188-.4-.39.084-.113.361-.49.446-.602zm-.493-.578c.175-.24.558.168.44.336l-.563.766c-.211.283-.604-.12-.45-.32.084-.113.488-.669.573-.782zm-.844-.11c.145-.163.548.19.43.357l-.263.348c-.12.15-.548-.199-.409-.37zm-.206-.071-.328-.403 1.073-1.859c.235.193.54.221.84.265-1.233 1.407.048 1.616.858.554l.32-.11 1.154.664c.452.3.946.67 1.391 1.025.474.39-.035.683-.274.531l-1.275-.748c-.074-.061-.186.049-.088.127l1.12.68c.202.14.195.522-.333.478l-1.018-.597c-.1-.08-.25.053-.11.14l1.021.59c.006.315-.183.387-.46.349l-.835-.414c-.13-.08-.228.094-.095.163l.793.377c-.21.301-.598.363-1.225.097.238-.308.203-.746-.345-.815-.017-.335-.166-.551-.512-.592.042-.465-.573-.877-.874-.293-.255-.433-.523-.435-.798-.21zm4.985-2.313 1.037 1.842c-.145.19-.334.333-.517.485-.828-.713-1.752-1.281-2.731-1.764l-.438.146c-.277.29-.535.682-1.03.611-.077-.055-.038-.116-.04-.167.1-.205.47-.718.722-1.051.456-.216 1.015-.264 1.648-.192l.91.172c.18.015.302-.044.44-.082z",transform:"translate(-119.855 -124.178)"}));function m({SetQueryKey:e}){const[r,a]=(0,o.useState)(""),l=t=>{if(r)switch(t.type){case"keydown":13===t.keyCode&&e(r);break;case"click":e(r)}};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"set-url-key-wrap"},(0,n.createElement)("div",{className:"set-url-key-wrap-label"},(0,n.createElement)(s.BlockIcon,{icon:u}),(0,t.__)("Affiliate Link Banner","affiliate-banner")),(0,n.createElement)("div",{className:"abs-instruction"},(0,n.createElement)("p",null,(0,t.__)("Set the affiliate URL parameter to display the banner")),(0,n.createElement)("p",null,(0,t._x)("Ex","example abbreviated"),": ",location.origin,"/?",(0,n.createElement)("b",null,(0,t.__)("affiliate","affiliate-banner")),"=",(0,t.__)("username","affiliate-banner"))),(0,n.createElement)("div",null,(0,n.createElement)(c.TextControl,{label:(0,t.__)("Enter the URL parameter","affiliate-banner"),onChange:e=>a(e),onKeyDown:l})),(0,n.createElement)("div",null,(0,n.createElement)(c.Button,{variant:"primary",disabled:!r,label:(0,t.__)("Submit","affiliate-banner"),onClick:l,text:(0,t.__)("Submit","affiliate-banner")}))))}const p=window.wp.primitives,f=(0,n.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(p.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));function d({value:e,SetQueryKey:r}){const[a,l]=(0,o.useState)(e),i=e=>{if(a)switch(e.type){case"keydown":13===e.keyCode&&(e.preventDefault(),r(a));break;case"click":r(a)}};return(0,n.createElement)(c.Popover,null,(0,n.createElement)("div",{tabIndex:-1,className:"affiliate-param-control-wrapper"},(0,n.createElement)("div",{className:"affiliate-param-control__input-wrapper"},(0,n.createElement)("div",{className:"affiliate-param-control__input-container"},(0,n.createElement)(c.TextControl,{__nextHasNoMarginBottom:!0,className:"block-editor-link-control__field block-editor-link-control__text-content",label:(0,t.__)("Edit the affiliate URL parameter","affiliate-banner"),value:a,onChange:e=>l(e),onKeyDown:i,size:"__unstable-large"})),(0,n.createElement)("div",{className:"affiliate-param-control__enter-container"},(0,n.createElement)(c.Button,{onClick:i,label:(0,t.__)("Submit","affiliate-banner"),icon:f,className:"block-editor-link-control__search-submit","aria-disabled":!a})))))}const{name:_}=a,b={...a,description:(0,t.__)("Displays a welcome banner with the affiliate name when an affiliate link is detected","affiliate-banner"),icon:{src:u,foreground:"#007de0"},edit:function(e){const{attributes:r,setAttributes:a}=e,{urlParam:l,textAlign:u,backgroundColor:p,textColor:f}=r,_=(0,s.__experimentalUseBorderProps)(r),[b,g]=(0,o.useState)(!!l),[w,y]=(0,o.useState)(!1),v=e=>{g(!!e),e&&(a({urlParam:e}),y(!1))},x=(0,s.useBlockProps)({className:i()("affiliate-banner-editor-wrap",{[`has-background has-${p}-background-color`]:p,[`has-${f}`]:f,[`has-text-align-${u}`]:u},_.className),style:_.style}),k=[["core/paragraph",{content:(0,t.__)("Welcome to our Store","affiliate-banner"),lock:{move:!1,remove:!1}}],["hdcpab/affiliate-name",{lock:{move:!1,remove:!0}}]],h=(0,t.__)("edit URL param","affiliate-banner");return(0,n.createElement)("div",{...x},!b&&(0,n.createElement)(m,{SetQueryKey:v}),b&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.BlockControls,{group:"block"},(0,n.createElement)(c.ToolbarGroup,null,(0,n.createElement)(c.ToolbarButton,{label:h,text:h,onClick:()=>y(!w)}))),(0,n.createElement)(s.InnerBlocks,{template:k,allowedBlocks:["core/image","core/paragraph"]}),w&&(0,n.createElement)(d,{value:l,SetQueryKey:v})))},save:function({attributes:e}){const{textAlign:t,backgroundColor:r,textColor:a}=e,l=(0,s.__experimentalGetBorderClassesAndStyles)(e),o=s.useBlockProps.save({className:i()({[`has-background has-${r}-background-color`]:r,[`has-${a}`]:a,[`has-text-align-${t}`]:t},l.className),style:l.style});return(0,n.createElement)("div",{...o},(0,n.createElement)(s.InnerBlocks.Content,null))}};(0,e.registerBlockType)(_,b)})()})();